"use strict";"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(a){return this}}),"undefined"==typeof String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if("undefined"!=typeof Buffer)return new Buffer(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),"undefined"==typeof String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if("undefined"!=typeof Buffer)return new Buffer(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),angular.module("krumiroApp").factory("AES",function(){function c(a,b){for(var c=4,d=b.length/c-1,i=[[],[],[],[]],j=0;4*c>j;j++)i[j%4][Math.floor(j/4)]=a[j];i=h(i,b,0,c);for(var k=1;d>k;k++)i=e(i,c),i=f(i,c),i=g(i,c),i=h(i,b,k,c);i=e(i,c),i=f(i,c),i=h(i,b,d,c);for(var l=new Array(4*c),j=0;4*c>j;j++)l[j]=i[j%4][Math.floor(j/4)];return l}function d(a){for(var c=4,d=a.length/4,e=d+6,f=new Array(c*(e+1)),g=new Array(4),h=0;d>h;h++){var k=[a[4*h],a[4*h+1],a[4*h+2],a[4*h+3]];f[h]=k}for(var h=d;c*(e+1)>h;h++){f[h]=new Array(4);for(var l=0;4>l;l++)g[l]=f[h-1][l];if(0==h%d){g=i(j(g));for(var l=0;4>l;l++)g[l]^=b[h/d][l]}else d>6&&4==h%d&&(g=i(g));for(var l=0;4>l;l++)f[h][l]=f[h-d][l]^g[l]}return f}function e(b,c){for(var d=0;4>d;d++)for(var e=0;c>e;e++)b[d][e]=a[b[d][e]];return b}function f(a,b){for(var c=new Array(4),d=1;4>d;d++){for(var e=0;4>e;e++)c[e]=a[d][(e+d)%b];for(var e=0;4>e;e++)a[d][e]=c[e]}return a}function g(a){for(var c=0;4>c;c++){for(var d=new Array(4),e=new Array(4),f=0;4>f;f++)d[f]=a[f][c],e[f]=128&a[f][c]?283^a[f][c]<<1:a[f][c]<<1;a[0][c]=e[0]^d[1]^e[1]^d[2]^d[3],a[1][c]=d[0]^e[1]^d[2]^e[2]^d[3],a[2][c]=d[0]^d[1]^e[2]^d[3]^e[3],a[3][c]=d[0]^e[0]^d[1]^d[2]^e[3]}return a}function h(a,b,c,d){for(var e=0;4>e;e++)for(var f=0;d>f;f++)a[e][f]^=b[4*c+f][e];return a}function i(b){for(var c=0;4>c;c++)b[c]=a[b[c]];return b}function j(a){for(var b=a[0],c=0;3>c;c++)a[c]=a[c+1];return a[3]=b,a}function k(a,b,e){var f=16;if(e=e||256,128!=e&&192!=e&&256!=e)return"";a=String(a).utf8Encode(),b=String(b).utf8Encode();for(var g=e/8,h=new Array(g),i=0;g>i;i++)h[i]=isNaN(b.charCodeAt(i))?0:b.charCodeAt(i);var j=c(h,d(h));j=j.concat(j.slice(0,g-16));for(var k=new Array(f),l=(new Date).getTime(),m=l%1e3,n=Math.floor(l/1e3),o=Math.floor(65535*Math.random()),i=0;2>i;i++)k[i]=255&m>>>8*i;for(var i=0;2>i;i++)k[i+2]=255&o>>>8*i;for(var i=0;4>i;i++)k[i+4]=255&n>>>8*i;for(var p="",i=0;8>i;i++)p+=String.fromCharCode(k[i]);for(var q=d(j),r=Math.ceil(a.length/f),s=new Array(r),t=0;r>t;t++){for(var u=0;4>u;u++)k[15-u]=255&t>>>8*u;for(var u=0;4>u;u++)k[15-u-4]=t/4294967296>>>8*u;for(var v=c(k,q),w=r-1>t?f:(a.length-1)%f+1,x=new Array(w),i=0;w>i;i++)x[i]=v[i]^a.charCodeAt(t*f+i),x[i]=String.fromCharCode(x[i]);s[t]=x.join("")}var y=p+s.join("");return y=y.base64Encode()}function l(a,b,e){var f=16;if(e=e||256,128!=e&&192!=e&&256!=e)return"";a=String(a).base64Decode(),b=String(b).utf8Encode();for(var g=e/8,h=new Array(g),i=0;g>i;i++)h[i]=isNaN(b.charCodeAt(i))?0:b.charCodeAt(i);var j=c(h,d(h));j=j.concat(j.slice(0,g-16));for(var k=new Array(8),l=a.slice(0,8),i=0;8>i;i++)k[i]=l.charCodeAt(i);for(var m=d(j),n=Math.ceil((a.length-8)/f),o=new Array(n),p=0;n>p;p++)o[p]=a.slice(8+p*f,8+p*f+f);a=o;for(var q=new Array(a.length),p=0;n>p;p++){for(var r=0;4>r;r++)k[15-r]=255&p>>>8*r;for(var r=0;4>r;r++)k[15-r-4]=255&(p+1)/4294967296-1>>>8*r;for(var s=c(k,m),t=new Array(a[p].length),i=0;i<a[p].length;i++)t[i]=s[i]^a[p].charCodeAt(i),t[i]=String.fromCharCode(t[i]);q[p]=t.join("")}var u=q.join("");return u=u.utf8Decode()}var a=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],b=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];return{encrypt:k,decrypt:l}});